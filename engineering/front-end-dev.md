# 前端研发思路

**研发过程：需求分析 --> 技术方案 --> 编码实现 --> 测试 --> 上线**

研发过程视角很重要，需求分析阶段从产品视角看问题，技术化阶段从实现视角看问题，实现过程对问题分层，从不同层面作分解。

## 需求分析

技术方案与产品逻辑要形成一定的映射关系，便于开发维护。

可以从两个层面分析

- 用户需求：用户的核心需求和长尾需求是什么，比如：视频网站，用户的核心需求就是看视频，场景：看某部剧、找一些自己感兴趣的、随便看看。

- 网站意图：要流量、要变现，哪些变现的模式：广告、会员、导流。

从产品视角看是怎么满足需求的，自上而下分解：

- 内容，用户需要哪些内容，作好大的分类，比如：作品、短视频等等，技术层面可能会相应的建立作品库、短视频库。

- 用户流程，通过怎样的流程让用户获取内容，流程的设计基于用户场景，比如：检索、浏览、个性化。

web产品的用户流程中，各个环节通过页面来承载，每个页面有明确的目的，页面通过各个功能模块/内容模块来满足需求，流程中的环节通常不会太多，比如：检索入口 -> 检索页 -> 播放页、首页 -> 详情页 -> 播放页，分析流程中各个环节的目的，每个环节有哪些模块组成。

## 技术方案

将需求转化为技术方案的过程要从不同层面来分析。

### 交互流程

根本上讲，用户上网就是和网络上的资源互动，资源可以是HTML文档、图片、视频等等，通过URI来定位、HTTP/HTTPS协议传输。

用户流程中，每个环节通常有一次或多次网络通信，每次通信包括客户端请求和服务端响应，请求发出的信息包括：host、path、参数、cookie、ua等等，服务端返回的页面通常不是静态的，动态页面的实现需要多个层面的逻辑，包括：数据库、服务端脚本、前端模板等等，这些都是技术实现上需要进行前后端约定的部分。

理清这些后，基本就明确了功能开发需求，要开发哪些后端服务、哪些前端模板，在成熟的技术架构下就可以开始逐个功能开发了。

### 技术架构

产品之初各个团队通常都会搭建好自己的基础架构，引入一套成熟的研发模式，业务开发可以在这些模式上稳定进行，开发过程不用关注太多基础架构的东西，甚至不用意识到它们的存在，完成需求分解后就可以快速进入编码过程。

具体业务开发时，不用从基础架构开始把各个环节都理一遍，但基础架构和研发模式依然是技术层面要关注的。

总体来说，需要关注三个方面的内容：

- 流程相关，包括：代码管理、环境部署、提测、上线，通常会涉及多个工具、平台，怎么把这些串起来，形成一套高效、简洁的流程，中间离不开一些自动化工具，比如：FIS CI、agile云编译。

- 编码相关

	- 开发概念的定义，包括：单页面 or 多页面开发、开发资源分类、开发目录规范、部署目录规范、模块化/组件化开发模式。

	- 库/框架，根据开发概念作相应的选型。

	- 工程工具选型，以及相关配置，满足开发、部署、性能相关的各种需求。

- 运维相关，包括：性能优化（对工程工具的依赖）、统计监控等。

## 编码实现

完成基础构架搭建、研发模式定义、业务需求的拆解后，就可以进入业务开发环节，在稳定的研发模式下多人协作开发，包括：

- 前后端接口约定，url规则、get/post、cookie、模板路径、模板数据、JSON接口等。

- 服务端逻辑，node、php、mysql等。

- 前端逻辑，CSS模块、JS模块、UI组件、页面模板等。

编码中要多关注代码的组织结构，思考怎么分离关注点、拆解复杂度。

完成编码后要作一个整体review，包括：代码结构与功能逻辑的映射关系是否合理、用户流程中各个环节的需求是否完整实现、各个模块的代码逻辑是否有缺陷、通用组件的设计是否合理。
